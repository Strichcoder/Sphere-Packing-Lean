\subsection{Lattices and Periodic packings}

We begin by defining what a lattice is in Euclidean space.

\begin{definition}\label{IsZlattice}\lean{IsZlattice}\leanok
  We say that an additive subgroup $\Lambda \leq \R^d$ is a \emph{lattice} if it is discrete and its $\R$-span contains all the elements of $\R^d$.
\end{definition}

There is also a corresponding dual notion, which will become relevant when we start doing Fourier analysis on functions over lattices.

\begin{definition}\label{Zlattice.Dual}\lean{Zlattice.Dual}\leanok
  The \emph{dual lattice} of a lattice $\Lambda$ is the set
  \[ \Lambda^* := \setof{v \in \R^d}{\forall l \in \Lambda, \left\langle v,l \right\rangle \in \Z} \]
\end{definition}

As one might expect,
\begin{theorem}\label{Zlattice.instIsZlatticeDual}\lean{Zlattice.instIsZlatticeDual}
  The dual of a lattice is also a lattice.
\end{theorem}
\begin{proof}
  Let $\Lambda$ be a lattice and $\Lambda^*$ its dual. We need to show three things: that $\Lambda^*$ is an additive subgroup of $\R^d$; that $\Lambda^*$ is discrete; and that the $\R$-span of $\Lambda^*$ contains all of $\R^d$.

  It is easy enough to see that $\Lambda^*$ is an additive subgroup of $\R^d$: it clearly contains the zero vector (whose inner-product with any vector is zero), and is closed under addition and negation because the inner-product is bilinear and $\Z$ is closed under addition and negation.

  
\end{proof}

\begin{definition}\label{PeriodicSpherePacking}\lean{PeriodicSpherePacking}\uses{SpherePacking, IsZlattice}\leanok
  We say that a sphere packing $\Pa(X)$ is ($\Lambda$-)\emph{periodic} if there exists a lattice $\Lambda \subset \R^d$ such that for all $x \in X$ and $y \in \Lambda$, $x + y \in X$ (ie, $X$ is $\Lambda$-periodic).
\end{definition}

\begin{lemma}\label{PeriodicSpherePacking.toSpherePacking}\lean{PeriodicSpherePacking.toSpherePacking}\uses{PeriodicSpherePacking, SpherePacking}\leanok
  Every periodic sphere packing is a sphere packing.
\end{lemma}
\begin{proof}
  Mathematically, this lemma is hardly worth mentioning. We only do so to underscore the automatically constructed forgetful map \verb|PeriodicSpherePacking.toSpherePacking| in Lean.
\end{proof}

\begin{lemma}\label{PeriodicSpherePacking.instAddAction}\lean{PeriodicSpherePacking.instAddAction}\uses{PeriodicSpherePacking}\leanok
  If $\Pa(X)$ is a $\Lambda$-periodic sphere packing, then $\Lambda$ acts on $X$ by translation.
\end{lemma}
\begin{proof}\leanok
  This is immediate from the definition of a periodic sphere packing.
\end{proof}

\begin{definition}
  If $\Lambda$ is a lattice, we call the $\Lambda$-periodic packing $\Pa(\Lambda)$ with centres at points in $\Lambda$ a lattice packing.
\end{definition}

\begin{lemma}\label{SpherePacking.density of periodic packing}\notready
  If $X \subseteq \R^d$ is a set of sphere packing centres that is periodic with respect to some lattice $\Lambda$, then the density of the corresponding (periodic) sphere packing is given by
  $$ \frac{\lvert {X/\Lambda} \rvert}{\mathrm{Vol}(\R^d / \Lambda)} \cdot \mathrm{Vol}(B_d(0,1))$$
  where the quotients in the numerator and denominator correspond to the orbits of the action by translation of $\Lambda$ on $X$ and $\R^d$ respectively.
\end{lemma}
\begin{remark}
  This can be thought of as the ``volume of spheres per fundamental domain": the number of spheres per fundamental domain is $\lvert {X/\Lambda} \rvert$, and the volume of each sphere is $\mathrm{Vol}(B_d(0,1))$.
\end{remark}

\begin{definition}\label{def-Periodic-sphere-packing-constant}\uses{SpherePacking.density, PeriodicSpherePacking}\notready
    The periodic sphere packing constant is defined to be
    $$ \Delta_{d}^{\text{periodic}} := \sup_{\substack{P \subset \R^d \\ \text{periodic packing}}} \Delta_P$$
\end{definition}

\begin{theorem}\label{periodic-packing-optimal}\uses{SpherePacking.density, def-Periodic-sphere-packing-constant}\notready
    For all $d$, the periodic sphere packing constant in $\R^d$ is equal to the sphere packing constant in $\R^d$.
\end{theorem}
\begin{proof}
  \todo{State this in Lean (ready).}
  \todo{Fill in proof here (see~\cite[Appendix A]{ElkiesCohn}}
\end{proof}

In other words, it suffices to compute and optimise the periodic sphere packing constant.

\subsection{Density of periodic packings}

In this subsection, we build up results about the density of periodic packings. In particular, the density of a periodic packing, defined as the limit of the periodic packing intersected with a growing ball centered at the origin, is equal to the density within any fundamental region of the period lattice.

% \todo{Actually add results here.}
